Vagrant.configure("2") do |config|
  # Shared settings for all VMs
  common_config = lambda do |vm|
    vm.vm.box = "hashicorp/bionic64"
    vm.vm.provider "virtualbox" do |vb|
      vb.memory = "512"  # Common RAM
      vb.cpus = 1        # Common CPU
    end
  end

  # Define VM 1: Web Server
  config.vm.define "web-server" do |vm|
    common_config.call(vm) # Apply shared settings
    vm.vm.hostname = "web-server"
  end

  # Define VM 2: Database Server
  config.vm.define "database-server" do |vm|
    common_config.call(vm) # Apply shared settings
    vm.vm.hostname = "database-server"
  end
end

